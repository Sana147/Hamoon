<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Pakistan Citizen Portal</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@4.6.1/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="style_pakistan_citizen_portal.css">
    <style>
                /* CSS for responsive image */
        .responsive-image {
            width: 100%;         /* Full width on mobile devices */
            max-width: 750px;    /* Limits width to 500px on larger screens */
            height: auto;        /* Maintains aspect ratio */
            display: block;      /* Block-level element */
            margin: 0 auto;      /* Center the image horizontally */
        }
        
        body {
            font-family: 'Calibri', sans-serif;
            font-size: 1.5rem;
            }
            
    /* New CSS class to add margin */
    .question-text {
        color: blue;
        margin-top: 20px; /* space before the text */
        margin-bottom: 20px; /* space after the text */
    }

    #score {
        font-size: 1.5rem; /* Same size as h4 */
        font-family: 'Calibri', sans-serif;
    }

    /* Set the font size for the radio options */
    .form-check-label {
        font-size: 1.5rem; /* Set size for Yes, No, Maybe options */
    }

    /* Add a class for black text */
    .black-text {
        color: black;
    }
                        
    </style>
    
</head>
<body class="fixed-top-nav">
    
    <div class="watermark">Hamoon</div>
    <img src="../pictures/blue_green_female_reporter.jpeg" alt="Pakistan Citizen Portal Logo" class="top-right-image"> <!-- Image at the top left -->

    <div class="container quiz-container">
        <div class="row">
            <div class="col-md-8 offset-md-2">
            <p>SSL pinning is a technique that helps to prevent Machine in the Middle attacks by hardcoding the SSL/TLS certificate’s public key into the app or device. In general, this is a beneficial security feature.</p>
                <p class="question-text">Answer the question below.</p>                        
                <div class="question">
                    <p><b>Question 7</b>: Does the Pakistan Citizen Portal app use SSL pinning?</p>
                </div>
                <form id="quizForm">
                    <div class="form-check answer">
                        <input class="form-check-input" type="radio" name="answer" id="yes" value="yes">
                        <label class="form-check-label" for="yes">
                            Yes
                        </label>
                    </div>
                    <div class="form-check answer">
                        <input class="form-check-input" type="radio" name="answer" id="no" value="no">
                        <label class="form-check-label" for="no">
                            No
                        </label>
                    </div>
                    <button type="button" class="btn btn-submit" onclick="checkAnswer()">Submit</button>
                    <!-- Feedback and Score will appear here -->
                    <div id="feedback" class="feedback"></div>
                    <div id="score" class="feedback"></div>
                    <!-- Button group -->
                    <div class="button-group">
                        <a href="pakistan_citizen_portal_q6.html" class="btn btn-cool-green">Back</a>
                        <a href="pakistan_citizen_portal_q8.html" class="btn btn-cool-green">Continue</a>
                    </div>
                </form>
            </div>
        </div>
    </div>

    <script>
        // Retrieve score from localStorage or initialize to 0
        let score = 6 || 0;

        // Display initial score
        document.getElementById('score').textContent = `Your score is ${score} out of 10`;

        function checkAnswer() {
            // Get the selected answer
            const form = document.getElementById('quizForm');
            const selectedOption = form.querySelector('input[name="answer"]:checked');
            
            // Check if an option is selected
            if (selectedOption) {
                const answerValue = selectedOption.value;
                const feedback = document.getElementById('feedback');

                // Provide feedback based on the selected answer
                if (answerValue === 'yes') {
                    feedback.innerHTML = `<p>Awesome! You nailed it.</p> 
                    <span>
                    <p>Yes, the Pakistan Citizen Portal app uses SSL pinning. With SSL pinning, whenever the app communicates with the server, it will compare the server’s SSL/TLS certificate’s public key with the one that is hardcoded into the app. This is a security benefit that helps reduce the chance of Machine in the Middle attacks by ensuring the app only communicates with trusted servers (a good thing!).
</p>
                    <p>The image below shows the use of okhttp3 library in the source code of the Pakistan Citizen Portal app (<span style="color:blue;">package name: com.govpk.citizensportal</span>).</p>
                    </span>
                    <img src="pakistan_citizen_portal_ssl_pinning_marked.png" alt="Pak Identity Authentication Request" class="responsive-image">

                    `;
                    feedback.classList.add('feedback-correct');
                    feedback.classList.remove('feedback-incorrect'); // Remove incorrect feedback styling if previously applied

                } else {
                    feedback.innerHTML = `<p>Oops, that's not quite right. Try again!</p> 
                    <span><p> Please select the correct answer, "Yes" to learn the reason.</p></span>
                    `;
                    feedback.classList.add('feedback-incorrect');
                    feedback.classList.remove('feedback-correct'); // Remove incorrect feedback styling if previously applied
                }

                // Increment score and update display
                if (answerValue === 'yes' && score <= 6) {
                    score += 1;
                }
                document.getElementById('score').textContent = `Your score is ${score} out of 10`;
                localStorage.setItem('score', score);
                score = 6;
            } else {
                // No option selected
                alert('Please select an answer.');
            }
        }
    </script>

    <script src="https://code.jquery.com/jquery-3.5.1.slim.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.9.3/dist/umd/popper.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.6.1/dist/js/bootstrap.min.js"></script>
</body>
</html>

