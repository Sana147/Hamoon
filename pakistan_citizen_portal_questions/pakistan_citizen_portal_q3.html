<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Pakistan Citizen Portal</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@4.6.1/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="style_pakistan_citizen_portal.css">
</head>
<body class="fixed-top-nav">
    <div class="watermark">Hamoon</div>

    <img src="../pictures/blue_green_female_reporter.jpeg" alt="Pakistan Citizen Portal Logo" class="top-right-image"> <!-- Image at the top right -->

    <div class="container quiz-container">
        <div class="row">
            <div class="col-md-8 offset-md-2">
                <div class="question">
                    <p>Q3: Does the Pakistan Citizen Portal app collect additional user credentials beyond those necessary for its functionality?</p>
                </div>
                <form id="quizForm">
                    <div class="form-check answer">
                        <input class="form-check-input" type="radio" name="answer" id="yes" value="yes">
                        <label class="form-check-label" for="yes">Yes</label>
                    </div>
                    <div class="form-check answer">
                        <input class="form-check-input" type="radio" name="answer" id="no" value="no">
                        <label class="form-check-label" for="no">No</label>
                    </div>
                    <button type="button" class="btn btn-submit" onclick="checkAnswer()">Submit</button>
                    <!-- Feedback and Score will appear here -->
                    <div id="feedback" class="feedback"></div>
                    <div id="score" class="feedback"></div>
                    <!-- Button group -->
                    <div class="button-group">
                        <a href="pakistan_citizen_portal_q2.html" class="btn btn-cool-green">Back</a>
                        <a href="pakistan_citizen_portal_q4.html" class="btn btn-cool-green">Continue</a>
                    </div>
                </form>
            </div>
        </div>
    </div>

    <script>
        // Retrieve score from localStorage or initialize to 0
        let score = 2 || 0;

        // Display initial score
        document.getElementById('score').textContent = `Your score is ${score} out of 10.`;

        function checkAnswer() {
            // Get the selected answer
            const form = document.getElementById('quizForm');
            const selectedOption = form.querySelector('input[name="answer"]:checked');
            
            // Check if an option is selected
            if (selectedOption) {
                const answerValue = selectedOption.value;
                const feedback = document.getElementById('feedback'); // Add feedback element reference

                // Provide feedback based on the selected answer
                if (answerValue === 'yes') {
                    feedback.innerHTML = `
                        <p class="feedback-correct">Awesome! You nailed it.</p> 
                        <span>
                            <p>The Pakistan Citizen Portal app is a grievance redressal system designed to allow users to submit suggestions or file complaints against corrupt government officials. To submit a complaint, users must register on the app, a process that asks for excessive personal information, including full name, mobile number, date of birth, profession, religion, blood type, and other details. Many of these data points are unnecessary for providing the core service of filing complaints or suggestions. The image below shows the redacted user credentials collected by the app. </p>
                        <div class="img-container">
                            <img src="pakistan_citizen_portal_authentication_req.png" alt="Extraneous PII">
                        </div>

                        <div class="img-container">
                            <img src="pakistancitizenportal_login_response_1.png" alt="Extraneous PII1">
                        </div>
                        <div class="img-container">
                            <img src="pakistancitizenportal_login_response.png" alt="Extraneous PII1">
                        </div>
                        <p>Moreover, the app does not require location data to deliver the promised services. However, users are required to grant location permissions when submitting a complaint. The image below shows the app's transmission of exact location coordinates with the device's IP address for complaint/suggestion submission.</p>
                        <div class="img-container">
                            <img src="pakistan_citizen_portal_suggestion_req1.png" alt="Pak Identity Authentication Request">
                        </div>
                </span>
                    `;
                    feedback.classList.add('feedback-correct');
                    feedback.classList.remove('feedback-incorrect'); // Remove incorrect feedback styling if previously applied

                    // Increment score
                    score = 3;
                } else {
                    feedback.innerHTML = `
                        <p class="feedback-incorrect">Oops, that's not quite right. Try again!</p> 
                        <span><p>Please select the correct answer, "Yes" to learn the reason.</p></span>
                    `;
                    feedback.classList.add('feedback-incorrect');
                    feedback.classList.remove('feedback-correct'); // Remove incorrect feedback styling if previously applied
                    score = 2;
                }

                // Update score display and save to localStorage
                document.getElementById('score').textContent = `Your score is ${score} out of 10.`;
                localStorage.setItem('score', score);
            } else {
                // No option selected
                alert('Please select an answer.');
            }
        }
    </script>

    <script src="https://code.jquery.com/jquery-3.5.1.slim.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.9.3/dist/umd/popper.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.6.1/dist/js/bootstrap.min.js"></script>
</body>
</html>

