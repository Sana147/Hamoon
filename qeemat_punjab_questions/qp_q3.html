<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Qeemat Punjab</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@4.6.1/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="style_qp.css">
    <style>
       body {
            background-color: #ffffff; /* Light green color */            
            font-family: 'Calibri', sans-serif;
            font-size: 1.5rem;
        }

        .img-container {
            display: flex;
            flex-direction: column; /* Stack images vertically */
            align-items: center; /* Center images horizontally */
        }
        .img-container img {
            max-width: 100%; /* Responsive */
            height: auto; /* Maintain aspect ratio */
            margin-bottom: 10px; /* Space between images */
        }
    </style>
</head>

<body class="fixed-top-nav">

    <div class="watermark">Hamoon</div>

    <div class="container quiz-container">
        <div class="row">
            <div class="col-md-8 offset-md-2">
                <p class="question-text">Answer the question below.</p>                            
                <div class="question">
                    <p><b>Question 3</b>: Does the Qeemat Punjab app collect additional user credentials beyond those required for its core functionality?</p>
                </div>
                <form id="quizForm">
                    <div class="form-check answer">
                        <input class="form-check-input" type="radio" name="answer" id="yes" value="yes">
                        <label class="form-check-label" for="yes">Yes</label>
                    </div>
                    <div class="form-check answer">
                        <input class="form-check-input" type="radio" name="answer" id="no" value="no">
                        <label class="form-check-label" for="no">No</label>
                    </div>
                    <button type="button" class="btn btn-submit" onclick="checkAnswer()">Submit</button>
                    <!-- Feedback and Score will appear here -->
                    <div id="feedback" class="feedback"></div>
                    <div id="score" class="feedback"></div>
                    <!-- Button group -->
                    <div class="button-group">
                        <a href="qp_q2.html" class="btn btn-dark-pink">Back</a>
                        <a href="qp_q4.html" class="btn btn-dark-pink">Continue</a>
                    </div>
                </form>
            </div>
        </div>
    </div>

    <img src="../pictures/qp.jpg" alt="Pakistani Female" class="top-right-image">

    <script>
        // Retrieve score from localStorage or initialize to 0
        let score = 2 || 0;

        // Display initial score
        document.getElementById('score').textContent = `Your score is ${score} out of 10.`;

        function checkAnswer() {
            // Get the selected answer
            const form = document.getElementById('quizForm');
            const selectedOption = form.querySelector('input[name="answer"]:checked');
            
            // Check if an option is selected
            if (selectedOption) {
                const answerValue = selectedOption.value;
                const feedback = document.getElementById('feedback'); // Add feedback element reference

                // Provide feedback based on the selected answer
                if (answerValue === 'yes') {
                    feedback.innerHTML = `
                        <p class="feedback-correct">Awesome! You nailed it.</p> 
                        <span>
                            <p>The Qeemat Punjab app offers easy access to its features without user registration. Users can browse agricultural product prices freely without sharing personal details. However, things take a turn when users wish to submit suggestions or complaints about the app's services or report any malpractices. To do so, they must first complete a registration process.
During the registration, the app asks for a troubling array of personal information. That includes sensitive data such as the user's gender, guardian's name, profession, mobile number, physical address, citizen identity number, and even the relationship between the user and their guardian. These details are mandatory for users wishing to voice their concerns. Below is a redacted sample of these credentials required for registration, highlighting the level of personal information collected by the app. </p>
                        <div class="img-container">
                            <img src="qeematpunjab_login.png" alt="Qeemat Punjab Location Coordinates">
                        </div>
                        <p> But there's more to it. Once registered, users must also grant the app access to their location. Without this permission, they are unable to submit any complaints or suggestions. That becomes especially alarming for vulnerable individuals, such as journalists and activists, who might be trying to report corruption or highlight an issue involving a local agro-businessman. These users, already at risk,  may find themselves further exposed. With the help of a corrupt local official, a corrupt person in business could obtain the user's credentials and exploit them. The (state, non-state, or hybrid) attacker could use location data to track these individuals, putting them at greater risk of surveillance,  harassment, or targeted attacks.  </p>
                    `;
                    feedback.classList.add('feedback-correct');
                    feedback.classList.remove('feedback-incorrect'); // Remove incorrect feedback styling if previously applied

                    // Increment score
                    score = 3;
                } else {
                    feedback.innerHTML = `
                        <p class="feedback-incorrect">Oops, that's not quite right. Try again!</p> 
                        <span><p>Please select the correct answer, "Yes" to learn the reason.</p></span>
                    `;
                    feedback.classList.add('feedback-incorrect');
                    feedback.classList.remove('feedback-correct'); // Remove incorrect feedback styling if previously applied
                    score = 2;
                }

                // Update score display and save to localStorage
                document.getElementById('score').textContent = `Your score is ${score} out of 10.`;
                localStorage.setItem('score', score);
            } else {
                // No option selected
                alert('Please select an answer.');
            }
        }
    </script>
    
    <script src="https://code.jquery.com/jquery-3.5.1.slim.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.9.3/dist/umd/popper.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.6.1/dist/js/bootstrap.min.js"></script>
</body>
</html>

