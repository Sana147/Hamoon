<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Qeemat Punjab</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@4.6.1/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="style_qp.css">
    <style>
        body {
/*            background-color: #d3f9d8; /* Light green color */
        }        
    </style>

</head>
<body class="fixed-top-nav">
    <div class="watermark">Hamoon</div>
    <div class="container quiz-container">
        <div class="row">
            <div class="col-md-8 offset-md-2">
                <div class="question">
                    <p>Q8: Is it possible to spoof PDF data through the Qeemat Punjab app?</p>
                </div>
                <form id="quizForm">
                    <div class="form-check answer">
                        <input class="form-check-input" type="radio" name="answer" id="yes" value="yes">
                        <label class="form-check-label" for="yes">
                            Yes
                        </label>
                    </div>
                    <div class="form-check answer">
                        <input class="form-check-input" type="radio" name="answer" id="inconclusive" value="inconclusive">
                        <label class="form-check-label" for="inconclusive">
                            Inconclusive
                        </label>
                    </div>

                    <div class="form-check answer">
                        <input class="form-check-input" type="radio" name="answer" id="no" value="no">
                        <label class="form-check-label" for="no">
                            No
                        </label>
                    </div>
                    <button type="button" class="btn btn-submit" onclick="checkAnswer()">Submit</button>
                    <!-- Feedback and Score will appear here -->
                    <div id="feedback" class="feedback"></div>
                    <div id="score" class="feedback"></div>
                    <!-- Button group -->
                    <div class="button-group">
                        <a href="qp_q7.html" class="btn btn-dark-pink">Back</a>
                        <a href="qp_q9.html" class="btn btn-dark-pink">Continue</a>
                    </div>
                </form>
            </div>
        </div>
    </div>

    <img src="../pictures/qp.jpg" alt="Pakistani Female" class="top-right-image">

    <script>
        // Retrieve score from localStorage or initialize to 0
        let score = 7 || 0;

        // Display initial score
        document.getElementById('score').textContent = `Your score is ${score} out of 10`;

        function checkAnswer() {
            // Get the selected answer
            const form = document.getElementById('quizForm');
            const selectedOption = form.querySelector('input[name="answer"]:checked');
            
            // Get feedback element
            const feedback = document.getElementById('feedback');

            // Check if an option is selected
            if (selectedOption) {
                const answerValue = selectedOption.value;

                // Provide feedback based on the selected answer
                if (answerValue === 'no') {
                    feedback.innerHTML = `
                        <p class="feedback-correct">CAwesome! You nailed it.</p> 
                        <span><p>The Qeemat Punjab app does not use PDF files for data storage or transmission, which removes the risk of spoofing PDF data. However, there is a potential vulnerability in the app related to JSON data, where attackers can spoof and tamper with the prices of agri-poultry products. The images below illustrate this, showing the original prices (left) and the spoofed prices (right). </p> 
                    <img src="qeemat_punjab_orig_prices.png" alt="original" style="max-width: 250px; height: auto; vertical-align: middle; margin-left: 100px;">
                    <img src="qeemat_punjab_fuzzed_prices.png" alt="fuzzed" style="max-width: 250px; height: auto; vertical-align: middle; margin-left: 100px;">
</span>
                    `;
                    feedback.classList.add('feedback-correct');
                    feedback.classList.remove('feedback-incorrect'); // Remove incorrect feedback styling if previously applied

                    // Increment score
                    score += 1;
                } else if (answerValue === 'yes') {
                    feedback.innerHTML = `
                        <p class="feedback-incorrect">Incorrect!</p> 
                        <span><p>Please select the correct answer, "No" to learn the reason.</p></span>
                    `;
                    feedback.classList.add('feedback-incorrect');
                    feedback.classList.remove('feedback-correct'); // Remove previous feedback styles
                    score = 7; // Maintain score as is
                } else {
                    feedback.innerHTML = `
                        <p class="feedback-incorrect">Oops, that's not quite right. Try again!</p> 
                        <span><p>Please select the correct answer, "No" to learn the reason.</p></span>
                    `;
                    feedback.classList.add('feedback-incorrect');
                    feedback.classList.remove('feedback-correct'); // Remove incorrect feedback styling if previously applied
                    score = 7;
                }

                // Update score display and save to localStorage
                document.getElementById('score').textContent = `Your score is ${score} out of 10.`;
                localStorage.setItem('score', score);
            } else {
                // No option selected
                alert('Please select an answer.');
            }
        }
    </script>

    <script src="https://code.jquery.com/jquery-3.5.1.slim.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.9.3/dist/umd/popper.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.6.1/dist/js/bootstrap.min.js"></script>
</body>
</html>

